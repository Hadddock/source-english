import AppleIcon from '@/assets/icons/licensed/apple.svg';
import RiceIcon from '@/assets/icons/licensed/rice.svg';
import BreadIcon from '@/assets/icons/licensed/bread.svg';
import FogIcon from '@/assets/icons/licensed/fog.svg';
import SunIcon from '@/assets/icons/licensed/sun.svg';
import CloudyIcon from '@/assets/icons/licensed/cloudy.svg';
import RainIcon from '@/assets/icons/licensed/rain.svg';
import SnowIcon from '@/assets/icons/licensed/snow.svg';
import StormIcon from '@/assets/icons/licensed/storm.svg';
import WindIcon from '@/assets/icons/licensed/wind.svg';
import PartlyCloudyIcon from '@/assets/icons/licensed/partly_cloudy.svg';
import WarmIcon from '@/assets/icons/licensed/warm.svg';
import ColdIcon from '@/assets/icons/licensed/cold.svg';
import HotIcon from '@/assets/icons/licensed/hot.svg';
import CoolIcon from '@/assets/icons/licensed/cool.svg';
import TemperatureIcon from '@/assets/icons/licensed/temperature.svg';
import AaIcon from '@/assets/icons/open_source/Aa.svg';
import WeatherIcon from '@/assets/icons/licensed/weather.svg';
import WeatherVocabIcon from '@/assets/icons/licensed/weather_vocab.svg';
import SundayIcon from '@/assets/icons/licensed/sunday.svg';
import MondayIcon from '@/assets/icons/licensed/monday.svg';
import TuesdayIcon from '@/assets/icons/licensed/tuesday.svg';
import WednesdayIcon from '@/assets/icons/licensed/wednesday.svg';
import ThursdayIcon from '@/assets/icons/licensed/thursday.svg';
import FridayIcon from '@/assets/icons/licensed/friday.svg';
import SaturdayIcon from '@/assets/icons/licensed/saturday.svg';
import WeekIcon from '@/assets/icons/licensed/week.svg';
import DayIcon from '@/assets/icons/licensed/day.svg';
import WeekDayIcon from '@/assets/icons/licensed/weekday.svg';
import WeekendIcon from '@/assets/icons/licensed/weekend.svg';
import YesterdayIcon from '@/assets/icons/licensed/yesterday.svg';
import TodayIcon from '@/assets/icons/licensed/today.svg';
import TomorrowIcon from '@/assets/icons/licensed/tomorrow.svg';
import DayVocabIcon from '@/assets/icons/licensed/day_vocab.svg';
import SpeakIcon from '@/assets/icons/licensed/speak.svg';
import MonthsIcon from '@/assets/icons/licensed/months.svg';
import SeasonsIcon from '@/assets/icons/licensed/seasons.svg';
import AutumnIcon from '@/assets/icons/licensed/autumn.svg';
import SpringIcon from '@/assets/icons/licensed/spring.svg';
import SummerIcon from '@/assets/icons/licensed/summer.svg';
import WinterIcon from '@/assets/icons/licensed/winter.svg';
import NumbersIcon from '@/assets/icons/open_source/numbers.svg';
import AddressIcon from '@/assets/icons/licensed/address.svg';
import CityIcon from '@/assets/icons/licensed/city.svg';
import StateIcon from '@/assets/icons/licensed/state.svg';
import ToBeIcon from '@/assets/icons/open_source/to_be.svg';
import PhoneNumber from '@/assets/icons/licensed/phone_number.svg'; // Example for a custom icon
import EmailAddress from '@/assets/icons/licensed/email.svg'; // Example for a custom icon
import MyIcon from '@/assets/icons/open_source/my.svg'; // Example for a custom icon
import IIcon from '@/assets/icons/open_source/I.svg'; // Example for a custom icon
import ApartmentNumber from '@/assets/icons/licensed/apartment_number.svg'; // Example for a custom icon
import StreetIcon from '@/assets/icons/licensed/street.svg'; // Example for a custom icon
import YouIcon from '@/assets/icons/open_source/you.svg'; // Example for a custom icon
import NameIcon from '@/assets/icons/licensed/name.svg'; // Example for a custom icon
import HouseNumber from '@/assets/icons/licensed/house_number.svg'; // Example for a custom icon
import SpeakerIcon from '@/assets/icons/licensed/speaker.svg'; // Example for a custom icon
import Red from '@/assets/icons/licensed/red.svg'; // Example for a custom icon
import Blue from '@/assets/icons/licensed/blue.svg';
import Yellow from '@/assets/icons/licensed/yellow.svg';
import Green from '@/assets/icons/licensed/green.svg';
import Orange from '@/assets/icons/licensed/orange.svg';
import Purple from '@/assets/icons/licensed/purple.svg';
import Brown from '@/assets/icons/licensed/brown.svg';
import Pink from '@/assets/icons/licensed/pink.svg';
import White from '@/assets/icons/licensed/white.svg';
import Gray from '@/assets/icons/licensed/gray.svg'; // Example for a custom icon
import Black from '@/assets/icons/licensed/black.svg';
import ColorIcon from '@/assets/icons/licensed/color.svg'; // Example for a custom icon
import ColorWheelIcon from '@/assets/icons/licensed/color_wheel.svg'; // Example for a custom icon
import HusbandIcon from '@/assets/icons/licensed/husband.svg'; // Add this import
import WifeIcon from '@/assets/icons/licensed/wife.svg'; // Add this import
import MarriedIcon from '@/assets/icons/licensed/married.svg'; // Add this import
import SpouseIcon from '@/assets/icons/licensed/spouse.svg'; // Add this import
import FamilyIcon from '@/assets/icons/licensed/family.svg'; // Add this import
import BrotherIcon from '@/assets/icons/licensed/brother.svg';
import SiblingIcon from '@/assets/icons/licensed/sibling.svg';
import SisterIcon from '@/assets/icons/licensed/sister.svg';
import FatherIcon from '@/assets/icons/licensed/father.svg'; // Add this import
import MotherIcon from '@/assets/icons/licensed/mother.svg'; // Add this import
import ChildIcon from '@/assets/icons/licensed/child.svg'; // Add this import
import ParentIcon from '@/assets/icons/licensed/parent.svg'; // Add this import
import SonIcon from '@/assets/icons/licensed/son.svg'; // Add this import
import DaughterIcon from '@/assets/icons/licensed/daughter.svg'; // Add this import
import AdjectivesIcon from '@/assets/icons/open_source/adjective.svg'; // Example for a custom icon
import YesIcon from '@/assets/icons/open_source/yes.svg'; // Example for a custom icon
import WhoIcon from '@/assets/icons/licensed/who.svg'; // Add this import
import WhatIcon from '@/assets/icons/licensed/what.svg'; // Add this import
import WhereIcon from '@/assets/icons/licensed/where.svg'; // Add this import
import WhyIcon from '@/assets/icons/licensed/why.svg'; // Add this import
import WhenIcon from '@/assets/icons/licensed/when.svg'; // Add this import
import HowIcon from '@/assets/icons/licensed/how.svg'; // Add this import
import WhIcon from '@/assets/icons/open_source/wh_questions.svg'; // Add this import
import AllergyIcon from '@/assets/icons/licensed/allergy.svg';
import BackacheIcon from '@/assets/icons/licensed/backache.svg';
import BrokenIcon from '@/assets/icons/licensed/broken.svg';
import DiarrheaIcon from '@/assets/icons/licensed/diarrhea.svg';
import FeverIcon from '@/assets/icons/licensed/fever.svg';
import FluIcon from '@/assets/icons/licensed/flu.svg';
import HeadacheIcon from '@/assets/icons/licensed/headache.svg';
import NauseousIcon from '@/assets/icons/licensed/nauseous.svg';
import SickIcon from '@/assets/icons/licensed/sick.svg';
import ToothacheIcon from '@/assets/icons/licensed/toothache.svg';
import TiredIcon from '@/assets/icons/licensed/tired.svg'; // Add this import
import DepressedIcon from '@/assets/icons/licensed/depressed.svg'; // Add this import
import ColdIllnessIcon from '@/assets/icons/licensed/cold_(illness).svg'; // Add this import
import RunIcon from '@/assets/icons/licensed/run.svg'; // Add this import
import VerbIcon from '@/assets/icons/open_source/verb.svg'; // Add this import
import GoIcon from '@/assets/icons/licensed/go.svg';
import HaveIcon from '@/assets/icons/licensed/have.svg';
import JumpIcon from '@/assets/icons/licensed/jump.svg';
import LikeIcon from '@/assets/icons/licensed/like.svg';
import ListenIcon from '@/assets/icons/licensed/listen.svg';
import LoveIcon from '@/assets/icons/licensed/love.svg';
import ReadIcon from '@/assets/icons/licensed/read.svg';
import RelaxIcon from '@/assets/icons/licensed/relax.svg';
import ShowerIcon from '@/assets/icons/licensed/shower.svg';
import SingIcon from '@/assets/icons/licensed/sing.svg';
import SleepIcon from '@/assets/icons/licensed/sleep.svg';
import StopIcon from '@/assets/icons/licensed/stop.svg';
import StudyIcon from '@/assets/icons/licensed/study.svg';
import WakeUpIcon from '@/assets/icons/licensed/wake_up.svg';
import WalkIcon from '@/assets/icons/licensed/walk.svg';
import WatchIcon from '@/assets/icons/licensed/watch.svg';
import WriteIcon from '@/assets/icons/licensed/write.svg';
import CryIcon from '@/assets/icons/licensed/cry.svg';
import BrushIcon from '@/assets/icons/licensed/brush.svg';
import DrinkIcon from '@/assets/icons/licensed/drink.svg';
import DriveIcon from '@/assets/icons/licensed/drive.svg';
import EatIcon from '@/assets/icons/licensed/eat.svg';
import FlyIcon from '@/assets/icons/licensed/fly.svg';
import MakeIcon from '@/assets/icons/licensed/make.svg';
import CookIcon from '@/assets/icons/licensed/cook.svg';
import GetUpIcon from '@/assets/icons/licensed/get_up.svg';
import PresentSimpleIcon from '@/assets/icons/open_source/present_simple.svg';
import FrequencyIcon from '@/assets/icons/licensed/frequency.svg'; // Add this import

import React from 'react';
import { View, Text } from 'react-native';
import ReadableText from '@/components/ReadableText'; // Add this import

export const TextIcon: React.FC<{
  text: string;
  size?: number;
  textsize?: number;
  textwidth?: number;
  fontSize?: number;
  pronunciation?: string;
}> = ({ text, size = 32, fontSize, textwidth, textsize, pronunciation }) => (
  <View
    style={{
      width: textwidth ? textwidth : size,
      height: size,
      borderRadius: 6,
      alignItems: 'center',
      justifyContent: 'center',
      overflow: 'hidden',
    }}
  >
    <ReadableText
      text={text}
      pronunciation={pronunciation}
      style={{
        fontSize:
          (textsize ? textsize : 25) *
          (text && text.length > 5
            ? 0.6
            : text && text.length > 3
            ? 0.8
            : text && text.length > 2
            ? 0.85
            : 1),
        color: '#333',
        fontWeight: '500',
        textAlign: 'center',
        fontFamily: 'Lexend_400Regular', // <-- Use the loaded font name
        marginBottom: 0,
        padding: 0,
      }}
      numberOfLines={1}
      ellipsizeMode="tail"
      displayText={text}
    />
  </View>
);

export const GenericTextIcon: React.FC<{ word: string; size?: number }> = ({
  word,
  size = 28,
}) => (
  <View
    style={{
      width: size,
      height: Math.max(42, size),

      borderRadius: size / 2,
      // backgroundColor: '#f0f0f0',
      alignItems: 'center',
      justifyContent: 'center',
      overflow: 'hidden',
    }}
  >
    <Text
      style={{
        fontSize: size * 0.85,
        color: '#333',
        fontWeight: '600',
        textAlign: 'center',
        fontFamily: 'Lexend', // Use Lexend font
      }}
      selectable={false}
    >
      {word.charAt(0).toUpperCase()}
    </Text>
  </View>
);

export const iconMap: Record<string, React.FC<any>> = {
  letters: AaIcon,
  food: RiceIcon,
  'weather vocab': WeatherVocabIcon,
  'months vocab': MonthsIcon,

  apple: AppleIcon,
  bread: BreadIcon,
  'food vocab': AppleIcon,
  rice: RiceIcon,
  snowy: SnowIcon,
  rainy: RainIcon,
  stormy: StormIcon,
  windy: WindIcon,
  autumn: AutumnIcon,
  fall: AutumnIcon,
  summer: SummerIcon,
  winter: WinterIcon,
  spring: SpringIcon,
  foggy: FogIcon,
  'partly cloudy': PartlyCloudyIcon,
  sunny: SunIcon,
  cloudy: CloudyIcon,
  hot: HotIcon,
  warm: WarmIcon,
  cool: CoolIcon,
  cold: ColdIcon,
  temperature: TemperatureIcon,
  weather: WeatherIcon,
  sunday: SundayIcon,
  monday: MondayIcon,
  tuesday: TuesdayIcon,
  wednesday: WednesdayIcon,
  thursday: ThursdayIcon,
  friday: FridayIcon,
  saturday: SaturdayIcon,
  week: WeekIcon,
  day: DayIcon,
  weekend: WeekendIcon,
  weekday: WeekDayIcon,
  yesterday: YesterdayIcon,
  today: TodayIcon,
  address: AddressIcon,
  city: CityIcon,
  state: StateIcon,
  'house number': HouseNumber, // Example for a custom icon
  street: StreetIcon, // Example for a custom icon
  'apartment number': ApartmentNumber, // Example for a custom icon
  'unit number': ApartmentNumber, // Example for a custom icon
  tomorrow: TomorrowIcon,
  'email address': EmailAddress,
  'day vocab': DayVocabIcon,
  'temperature vocab': TemperatureIcon,
  numbers: NumbersIcon,
  'to be': ToBeIcon,
  'to be vocab': ToBeIcon,
  name: NameIcon, // Example for a custom icon
  'seasons vocab': SeasonsIcon, // Assuming seasons vocab uses the same icon as weather
  'possessive adjectives vocab': MyIcon, // Example for a custom icon
  'possessive adjectives': MyIcon, // Example for a custom icon
  'subject pronouns': YouIcon, // Example for a custom icon
  'personal information': NameIcon,
  'personal information vocab': NameIcon, // Example for a custom icon
  'phone number': PhoneNumber, // Example for a custom icon
  'telephone number': PhoneNumber, // Example for a custom icon
  speaker: SpeakerIcon, // Example for a custom icon
  red: Red,
  blue: Blue,
  yellow: Yellow,
  green: Green,
  orange: Orange,
  purple: Purple,
  brown: Brown,
  pink: Pink,
  white: White,
  gray: Gray, // Example for a custom icon
  black: Black,
  color: ColorWheelIcon, // Example for a custom icon
  'colors vocab': ColorIcon, // Example for a custom icon

  'subject pronouns vocab': YouIcon, // Example for a custom icon
  month: MonthsIcon,
  season: SeasonsIcon,
  speak: SpeakIcon,
  husband: HusbandIcon,
  wife: WifeIcon,
  spouse: SpouseIcon,
  married: MarriedIcon,
  family: FamilyIcon,
  sibling: SiblingIcon,
  brother: BrotherIcon,
  sister: SisterIcon,
  father: FatherIcon, // Example for a custom icon
  mother: MotherIcon,
  parent: ParentIcon, // Example for a custom icon
  child: ChildIcon, // Example for a custom icon
  son: SonIcon,
  daughter: DaughterIcon,
  adjectives: AdjectivesIcon, // Example for a custom icon
  YesIcon: YesIcon, // Example for a custom icon
  'yes no questions': YesIcon, // Example for a custom icon
  'family vocab': FamilyIcon, // Example for a custom icon
  who: WhoIcon,
  what: WhatIcon,
  where: WhereIcon,
  why: WhyIcon,
  when: WhenIcon,
  how: HowIcon,
  'wh questions': WhIcon, // Example for a custom icon
  'wh questions vocab': WhIcon, // Example for a custom icon
  allergy: AllergyIcon,
  backache: BackacheIcon,
  broken: BrokenIcon,
  diarrhea: DiarrheaIcon,
  fever: FeverIcon,
  flu: FluIcon,
  headache: HeadacheIcon,
  nauseous: NauseousIcon,
  sick: SickIcon,
  toothache: ToothacheIcon,
  'illnesses vocab': SickIcon, // Example for a custom icon
  illnesses: SickIcon, // Example for a custom icon
  tired: TiredIcon,
  depressed: DepressedIcon,
  'cold_(illness)': ColdIllnessIcon, // Map to cold_(illness) icon
  run: RunIcon,
  'verbs vocab': VerbIcon, // Example for a custom icon
  verbs: VerbIcon, // Example for a custom icon
  go: GoIcon,
  have: HaveIcon,
  jump: JumpIcon,
  like: LikeIcon,
  listen: ListenIcon,
  love: LoveIcon,
  read: ReadIcon,
  relax: RelaxIcon,
  shower: ShowerIcon,
  sing: SingIcon,
  sleep: SleepIcon,
  stop: StopIcon,
  study: StudyIcon,
  'wake up': WakeUpIcon,
  walk: WalkIcon,
  watch: WatchIcon,
  write: WriteIcon,
  cry: CryIcon,
  brush: BrushIcon,
  drink: DrinkIcon,
  drive: DriveIcon,
  eat: EatIcon,
  fly: FlyIcon,
  'get up': GetUpIcon,
  'simple present tense': PresentSimpleIcon,
  make: MakeIcon,
  cook: CookIcon,
  'adverbs of frequency': FrequencyIcon, // Example for a custom icon
  'adverbs of frequency vocab': FrequencyIcon, // Example for a custom icon
  arrive: ArriveIcon,

  // ...etc
};

// Helper to get icon for a word, optionally using iconText
export function getIconForEntry(entry: any): React.FC<any> {
  if (entry && typeof entry === 'object' && entry.__icon_text) {
    const iconText = entry.__icon_text;
    const pronunciation = entry.__forced_pronunciation;
    return (props: any) => (
      <TextIcon
        text={iconText}
        textwidth={props.textwidth || 25}
        textsize={props.textsize || 25}
        fontSize={props.fontSize || 25}
        size={props.textwidth || 28}
        pronunciation={pronunciation}
      />
    );
  }
  // Use the object key (entry name) if available for icon mapping
  let key = '';
  if (entry && entry.__objectKey) {
    key = entry.__objectKey.toLowerCase();
  } else if (entry && entry.word) {
    key = entry.word.toLowerCase();
  } else if (typeof entry === 'string') {
    key = entry.toLowerCase();
  }
  if (iconMap[key]) return iconMap[key];
  return (props: any) => (
    <GenericTextIcon word={entry.word || entry} size={props.width || 28} />
  );
}
