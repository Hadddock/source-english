import CardsIcon from '@/assets/icons/licensed/cards.svg';
import AppleIcon from '@/assets/icons/licensed/apple.svg';
import RiceIcon from '@/assets/icons/licensed/rice.svg';
import BreadIcon from '@/assets/icons/licensed/bread.svg';
import FogIcon from '@/assets/icons/licensed/fog.svg';
import SunIcon from '@/assets/icons/licensed/sun.svg';
import CloudyIcon from '@/assets/icons/licensed/cloudy.svg';
import RainIcon from '@/assets/icons/licensed/rain.svg';
import SnowIcon from '@/assets/icons/licensed/snow.svg';
import StormIcon from '@/assets/icons/licensed/storm.svg';
import WindIcon from '@/assets/icons/licensed/wind.svg';
import PartlyCloudyIcon from '@/assets/icons/licensed/partly_cloudy.svg';
import WarmIcon from '@/assets/icons/licensed/warm.svg';
import ColdIcon from '@/assets/icons/licensed/cold.svg';
import HotIcon from '@/assets/icons/licensed/hot.svg';
import CoolIcon from '@/assets/icons/licensed/cool.svg';
import TemperatureIcon from '@/assets/icons/licensed/temperature.svg';
import AaIcon from '@/assets/icons/open_source/Aa.svg';
import WeatherIcon from '@/assets/icons/licensed/weather.svg';
import WeatherVocabIcon from '@/assets/icons/licensed/weather_vocab.svg';
import SundayIcon from '@/assets/icons/licensed/sunday.svg';
import MondayIcon from '@/assets/icons/licensed/monday.svg';
import TuesdayIcon from '@/assets/icons/licensed/tuesday.svg';
import WednesdayIcon from '@/assets/icons/licensed/wednesday.svg';
import ThursdayIcon from '@/assets/icons/licensed/thursday.svg';
import FridayIcon from '@/assets/icons/licensed/friday.svg';
import SaturdayIcon from '@/assets/icons/licensed/saturday.svg';
import WeekIcon from '@/assets/icons/licensed/week.svg';
import DayIcon from '@/assets/icons/licensed/day.svg';
import WeekDayIcon from '@/assets/icons/licensed/weekday.svg';
import WeekendIcon from '@/assets/icons/licensed/weekend.svg';
import YesterdayIcon from '@/assets/icons/licensed/yesterday.svg';
import TodayIcon from '@/assets/icons/licensed/today.svg';
import TomorrowIcon from '@/assets/icons/licensed/tomorrow.svg';
import DayVocabIcon from '@/assets/icons/licensed/day_vocab.svg';
import SpeakIcon from '@/assets/icons/licensed/speak.svg';
import MonthsIcon from '@/assets/icons/licensed/months.svg';
import SeasonsIcon from '@/assets/icons/licensed/seasons.svg';
import AutumnIcon from '@/assets/icons/licensed/autumn.svg';
import SpringIcon from '@/assets/icons/licensed/spring.svg';
import SummerIcon from '@/assets/icons/licensed/summer.svg';
import WinterIcon from '@/assets/icons/licensed/winter.svg';
import NumbersIcon from '@/assets/icons/open_source/numbers.svg';
import AddressIcon from '@/assets/icons/licensed/address.svg';
import CityIcon from '@/assets/icons/licensed/city.svg';
import StateIcon from '@/assets/icons/licensed/state.svg';
import ToBeIcon from '@/assets/icons/open_source/to_be.svg';
import PhoneNumber from '@/assets/icons/licensed/phone_number.svg'; // Example for a custom icon
import EmailAddress from '@/assets/icons/licensed/email.svg'; // Example for a custom icon
import MyIcon from '@/assets/icons/open_source/my.svg'; // Example for a custom icon
import IIcon from '@/assets/icons/open_source/I.svg'; // Example for a custom icon
import ApartmentNumber from '@/assets/icons/licensed/apartment_number.svg'; // Example for a custom icon
import StreetIcon from '@/assets/icons/licensed/street.svg'; // Example for a custom icon
import YouIcon from '@/assets/icons/open_source/you.svg'; // Example for a custom icon
import NameIcon from '@/assets/icons/licensed/name.svg'; // Example for a custom icon
import HouseNumber from '@/assets/icons/licensed/house_number.svg'; // Example for a custom icon
import SpeakerIcon from '@/assets/icons/licensed/speaker.svg'; // Example for a custom icon
import Red from '@/assets/icons/licensed/red.svg'; // Example for a custom icon
import Blue from '@/assets/icons/licensed/blue.svg';
import Yellow from '@/assets/icons/licensed/yellow.svg';
import Green from '@/assets/icons/licensed/green.svg';
import Orange from '@/assets/icons/licensed/orange.svg';
import Purple from '@/assets/icons/licensed/purple.svg';
import Brown from '@/assets/icons/licensed/brown.svg';
import Pink from '@/assets/icons/licensed/pink.svg';
import White from '@/assets/icons/licensed/white.svg';
import Gray from '@/assets/icons/licensed/gray.svg'; // Example for a custom icon
import Black from '@/assets/icons/licensed/black.svg';
import ColorIcon from '@/assets/icons/licensed/color.svg'; // Example for a custom icon
import ColorWheelIcon from '@/assets/icons/licensed/color_wheel.svg'; // Example for a custom icon
import HusbandIcon from '@/assets/icons/licensed/husband.svg'; // Add this import
import WifeIcon from '@/assets/icons/licensed/wife.svg'; // Add this import
import MarriedIcon from '@/assets/icons/licensed/married.svg'; // Add this import
import SpouseIcon from '@/assets/icons/licensed/spouse.svg'; // Add this import
import FamilyIcon from '@/assets/icons/licensed/family.svg'; // Add this import
import BrotherIcon from '@/assets/icons/licensed/brother.svg';
import SiblingIcon from '@/assets/icons/licensed/sibling.svg';
import SisterIcon from '@/assets/icons/licensed/sister.svg';
import FatherIcon from '@/assets/icons/licensed/father.svg'; // Add this import
import MotherIcon from '@/assets/icons/licensed/mother.svg'; // Add this import
import ChildIcon from '@/assets/icons/licensed/child.svg'; // Add this import
import ParentIcon from '@/assets/icons/licensed/parent.svg'; // Add this import
import SonIcon from '@/assets/icons/licensed/son.svg'; // Add this import
import DaughterIcon from '@/assets/icons/licensed/daughter.svg'; // Add this import
import AdjectivesIcon from '@/assets/icons/open_source/adjective.svg'; // Example for a custom icon
import YesIcon from '@/assets/icons/licensed/yes.svg'; // Example for a custom icon
import WhoIcon from '@/assets/icons/licensed/who.svg'; // Add this import
import WhatIcon from '@/assets/icons/licensed/what.svg'; // Add this import
import WhereIcon from '@/assets/icons/licensed/where.svg'; // Add this import
import WhyIcon from '@/assets/icons/licensed/why.svg'; // Add this import
import WhenIcon from '@/assets/icons/licensed/when.svg'; // Add this import
import HowIcon from '@/assets/icons/licensed/how.svg'; // Add this import
import WhIcon from '@/assets/icons/open_source/wh_questions.svg'; // Add this import
import AllergyIcon from '@/assets/icons/licensed/allergy.svg';
import BackacheIcon from '@/assets/icons/licensed/backache.svg';
import BrokenIcon from '@/assets/icons/licensed/broken.svg';
import DiarrheaIcon from '@/assets/icons/licensed/diarrhea.svg';
import FeverIcon from '@/assets/icons/licensed/fever.svg';
import FluIcon from '@/assets/icons/licensed/flu.svg';
import HeadacheIcon from '@/assets/icons/licensed/headache.svg';
import NauseousIcon from '@/assets/icons/licensed/nauseous.svg';
import SickIcon from '@/assets/icons/licensed/sick.svg';
import ToothacheIcon from '@/assets/icons/licensed/toothache.svg';
import TiredIcon from '@/assets/icons/licensed/tired.svg'; // Add this import
import DepressedIcon from '@/assets/icons/licensed/depressed.svg'; // Add this import
import ColdIllnessIcon from '@/assets/icons/licensed/cold_(illness).svg'; // Add this import
import RunIcon from '@/assets/icons/licensed/run.svg'; // Add this import
import VerbIcon from '@/assets/icons/open_source/verb.svg'; // Add this import
import GoIcon from '@/assets/icons/licensed/go.svg';
import HaveIcon from '@/assets/icons/licensed/have.svg';
import JumpIcon from '@/assets/icons/licensed/jump.svg';
import LikeIcon from '@/assets/icons/licensed/like.svg';
import ListenIcon from '@/assets/icons/licensed/listen.svg';
import LoveIcon from '@/assets/icons/licensed/love.svg';
import ReadIcon from '@/assets/icons/licensed/read.svg';
import RelaxIcon from '@/assets/icons/licensed/relax.svg';
import ShowerIcon from '@/assets/icons/licensed/shower.svg';
import SingIcon from '@/assets/icons/licensed/sing.svg';
import SleepIcon from '@/assets/icons/licensed/sleep.svg';
import StopIcon from '@/assets/icons/licensed/stop.svg';
import StudyIcon from '@/assets/icons/licensed/study.svg';
import WakeUpIcon from '@/assets/icons/licensed/wake_up.svg';
import WalkIcon from '@/assets/icons/licensed/walk.svg';
import WatchIcon from '@/assets/icons/licensed/watch.svg';
import WriteIcon from '@/assets/icons/licensed/write.svg';
import CryIcon from '@/assets/icons/licensed/cry.svg';
import BrushIcon from '@/assets/icons/licensed/brush.svg';
import DrinkIcon from '@/assets/icons/licensed/drink.svg';
import DriveIcon from '@/assets/icons/licensed/drive.svg';
import EatIcon from '@/assets/icons/licensed/eat.svg';
import MakeIcon from '@/assets/icons/licensed/make.svg';
import CookIcon from '@/assets/icons/licensed/cook.svg';
import GetUpIcon from '@/assets/icons/licensed/get_up.svg';
import PresentSimpleIcon from '@/assets/icons/open_source/present_simple.svg';
import ArriveIcon from '@/assets/icons/licensed/arrive.svg';
import FrequencyIcon from '@/assets/icons/licensed/frequency.svg'; // Add this import
import TreeIcon from '@/assets/icons/licensed/tree.svg'; // Example for a custom icon
import SheepIcon from '@/assets/icons/licensed/sheep.svg'; // Example for a custom icon
import WaitIcon from '@/assets/icons/licensed/wait.svg'; // Example for a custom icon
import TrainIcon from '@/assets/icons/licensed/train.svg'; // Example for a custom icon
import ToothIcon from '@/assets/icons/licensed/tooth.svg';
import ThinkIcon from '@/assets/icons/licensed/think.svg';
import ThingIcon from '@/assets/icons/licensed/thing.svg'; // Add this import
import WatchTimeIcon from '@/assets/icons/licensed/watch_(time).svg'; // Add this import
import SunglassesIcon from '@/assets/icons/licensed/sunglasses.svg'; // Add this import
import ShirtIcon from '@/assets/icons/licensed/shirt.svg'; // Add this import
import SkirtIcon from '@/assets/icons/licensed/skirt.svg';
import ShoeIcon from '@/assets/icons/licensed/shoe.svg';
import PantsIcon from '@/assets/icons/licensed/pants.svg';
import HatIcon from '@/assets/icons/licensed/hat.svg';
import GloveIcon from '@/assets/icons/licensed/glove.svg';
import GlassesIcon from '@/assets/icons/licensed/glasses.svg';
import DressIcon from '@/assets/icons/licensed/dress.svg';
import CoatIcon from '@/assets/icons/licensed/coat.svg';
import BeltIcon from '@/assets/icons/licensed/belt.svg';
import RingIcon from '@/assets/icons/licensed/ring.svg';
import ShortsIcon from '@/assets/icons/licensed/shorts.svg';
import ClothingIcon from '@/assets/icons/licensed/clothing.svg'; // Example for a custom icon
import ChairIcon from '@/assets/icons/licensed/chair.svg'; // Example for a custom icon
import ChickenIcon from '@/assets/icons/licensed/chicken.svg'; // Example for a custom icon
import TeacherIcon from '@/assets/icons/licensed/teacher.svg'; // Add this import
import CatIcon from '@/assets/icons/licensed/cat.svg';
import DogIcon from '@/assets/icons/licensed/dog.svg';
import CowIcon from '@/assets/icons/licensed/cow.svg';
import BirdIcon from '@/assets/icons/licensed/bird.svg';
import PigIcon from '@/assets/icons/licensed/pig.svg';
import DeerIcon from '@/assets/icons/licensed/deer.svg';
import FishIcon from '@/assets/icons/licensed/fish.svg';
import PetIcon from '@/assets/icons/licensed/pet.svg';
import AnimalIcon from '@/assets/icons/licensed/animal.svg';
import LowercaseAVariant from '@/assets/icons/open_source/a_variant_0.svg';
import LowercaseGVariant from '@/assets/icons/open_source/g_variant_0.svg';
import LowercaseQVariant from '@/assets/icons/open_source/q_variant_0.svg';
import OneVariant0 from '@/assets/icons/open_source/one_variant_0.svg';
import OneVariant1 from '@/assets/icons/open_source/one_variant_1.svg';

import AlwaysIcon from '@/assets/icons/licensed/always.svg'; // Example for a custom icon
import UsuallyIcon from '@/assets/icons/licensed/usually.svg'; // Example for a custom icon
import OftenIcon from '@/assets/icons/licensed/often.svg'; // Example for a custom icon
import SometimesIcon from '@/assets/icons/licensed/sometimes.svg'; // Example for a custom icon
import OccasionallyIcon from '@/assets/icons/licensed/occasionally.svg'; // Example for a custom icon
import RarelyIcon from '@/assets/icons/licensed/rarely.svg'; // Example for a custom icon
import NeverIcon from '@/assets/icons/licensed/never.svg'; // Example for a custom icon
import NotIcon from '@/assets/icons/licensed/not.svg'; // Example for a custom icon

import NoIcon from '@/assets/icons/licensed/no.svg'; // Example for a custom icon
import BackpackIcon from '@/assets/icons/licensed/backpack.svg'; // Example for a custom icon
import BookIcon from '@/assets/icons/licensed/book.svg'; // Example for a custom icon
import ClassIcon from '@/assets/icons/licensed/class.svg'; // Example for a custom icon
import DeskIcon from '@/assets/icons/licensed/desk.svg'; // Example for a custom icon
import EraserIcon from '@/assets/icons/licensed/eraser.svg'; // Example for a custom icon
import MarkerIcon from '@/assets/icons/licensed/marker.svg'; // Example for a custom icon
import NotebookIcon from '@/assets/icons/licensed/notebook.svg'; // Example for a custom icon
import PaperIcon from '@/assets/icons/licensed/paper.svg'; // Example for a custom icon
import PenIcon from '@/assets/icons/licensed/pen.svg'; // Example for a custom icon
import PencilIcon from '@/assets/icons/licensed/pencil.svg'; // Example for a custom icon
import StudentIcon from '@/assets/icons/licensed/student.svg'; // Example for a custom icon
import TableIcon from '@/assets/icons/licensed/table.svg'; // Example for a custom icon

import AirplaneIcon from '@/assets/icons/licensed/airplane.svg'; // Example for a custom icon
import BusStopIcon from '@/assets/icons/licensed/bus_stop.svg'; // Example for a custom icon
import AirportIcon from '@/assets/icons/licensed/airport.svg'; // Example for a custom icon
import BicycleIcon from '@/assets/icons/licensed/bicycle.svg'; // Example for a custom icon
import BoatIcon from '@/assets/icons/licensed/boat.svg'; // Example for a custom icon
import BusIcon from '@/assets/icons/licensed/bus.svg'; // Example for a custom icon

import CarIcon from '@/assets/icons/licensed/car.svg'; // Example for a custom icon
import GasStationIcon from '@/assets/icons/licensed/gas_station.svg'; // Example for a custom icon
import HelicopterIcon from '@/assets/icons/licensed/helicopter.svg'; // Example for a custom icon
import LightRailIcon from '@/assets/icons/licensed/light_rail.svg'; // Example for a custom icon
import MotorcycleIcon from '@/assets/icons/licensed/motorcycle.svg'; // Example for a custom icon
import ParkingLotIcon from '@/assets/icons/licensed/parking_lot.svg'; // Example for a custom icon
import RideIcon from '@/assets/icons/licensed/ride.svg'; // Example for a custom icon
import FlyIcon from '@/assets/icons/licensed/fly.svg'; // Example for a custom icon
import TrainStationIcon from '@/assets/icons/licensed/train_station.svg'; // Example for a custom icon
import TruckIcon from '@/assets/icons/licensed/truck.svg'; // Example for a custom icon
import VanIcon from '@/assets/icons/licensed/van.svg'; // Example for a custom icon
import VehicleIcon from '@/assets/icons/licensed/vehicle.svg'; // Example for a custom icon

import WhiteboardIcon from '@/assets/icons/licensed/whiteboard.svg'; // Example for a custom icon

import React from 'react';
import { View, Text } from 'react-native';
import ReadableText from '@/components/ReadableText'; // Add this import

export const TextIcon: React.FC<{
  text: string;
  size?: number;
  textsize?: number;
  fontSize?: number;
  pronunciation?: string;
  style?: any;
}> = ({ text, size = 32, fontSize, textsize, pronunciation, style }) => (
  <View
    style={[
      {
        width: size,
        height: size,
        borderRadius: 6,
        alignItems: 'center',
        justifyContent: 'center',
        overflow: 'hidden',
        // Remove margin/padding here
      },
      style,
    ]}
  >
    <ReadableText
      text={text}
      pronunciation={pronunciation}
      style={{
        fontSize:
          (textsize ? textsize : 25) *
          (text && text.length > 5
            ? 0.6
            : text && text.length > 3
            ? 0.8
            : text && text.length > 2
            ? 0.85
            : 1),
        color: '#333',
        fontWeight: '500',
        textAlign: 'center',
        fontFamily: 'Lexend_400Regular',
        marginBottom: 0,
        padding: 0,
        // Remove margin/padding here as well
      }}
      numberOfLines={1}
      ellipsizeMode="tail"
      displayText={text}
    />
  </View>
);

export const GenericTextIcon: React.FC<{ word: string; size?: number }> = ({
  word,
  size = 28,
}) => (
  <View
    style={{
      width: size,
      height: Math.max(42, size),

      borderRadius: size / 2,
      // backgroundColor: '#f0f0f0',
      alignItems: 'center',
      justifyContent: 'center',
      overflow: 'hidden',
    }}
  >
    <Text
      style={{
        fontSize: size * 0.85,
        color: '#333',
        fontWeight: '600',
        textAlign: 'center',
        fontFamily: 'Lexend', // Use Lexend font
      }}
      selectable={false}
    >
      {word.charAt(0).toUpperCase()}
    </Text>
  </View>
);

export const iconMap: Record<string, React.FC<any>> = {
  cards: CardsIcon,
  letters: AaIcon,
  food: RiceIcon,
  'weather vocab': WeatherVocabIcon,
  'months vocab': MonthsIcon,
  apple: AppleIcon,
  bread: BreadIcon,
  'food vocab': AppleIcon,
  rice: RiceIcon,
  snowy: SnowIcon,
  rainy: RainIcon,
  stormy: StormIcon,
  windy: WindIcon,
  autumn: AutumnIcon,
  fall: AutumnIcon,
  summer: SummerIcon,
  winter: WinterIcon,
  spring: SpringIcon,
  foggy: FogIcon,
  'partly cloudy': PartlyCloudyIcon,
  sunny: SunIcon,
  cloudy: CloudyIcon,
  hot: HotIcon,
  warm: WarmIcon,
  cool: CoolIcon,
  cold: ColdIcon,
  temperature: TemperatureIcon,
  weather: WeatherIcon,
  sunday: SundayIcon,
  monday: MondayIcon,
  tuesday: TuesdayIcon,
  wednesday: WednesdayIcon,
  thursday: ThursdayIcon,
  friday: FridayIcon,
  saturday: SaturdayIcon,
  week: WeekIcon,
  day: DayIcon,
  weekend: WeekendIcon,
  weekday: WeekDayIcon,
  yesterday: YesterdayIcon,
  today: TodayIcon,
  address: AddressIcon,
  city: CityIcon,
  state: StateIcon,
  'house number': HouseNumber, // Example for a custom icon
  street: StreetIcon, // Example for a custom icon
  'apartment number': ApartmentNumber, // Example for a custom icon
  'unit number': ApartmentNumber, // Example for a custom icon
  tomorrow: TomorrowIcon,
  'email address': EmailAddress,
  'day vocab': DayVocabIcon,
  'temperature vocab': TemperatureIcon,
  numbers: NumbersIcon,
  'to be': ToBeIcon,
  'to be vocab': ToBeIcon,
  name: NameIcon, // Example for a custom icon
  'seasons vocab': SeasonsIcon, // Assuming seasons vocab uses the same icon as weather
  'possessive adjectives vocab': MyIcon, // Example for a custom icon
  'possessive adjectives': MyIcon, // Example for a custom icon
  'subject pronouns': YouIcon, // Example for a custom icon
  'personal information': NameIcon,
  'personal information vocab': NameIcon, // Example for a custom icon
  'phone number': PhoneNumber, // Example for a custom icon
  'telephone number': PhoneNumber, // Example for a custom icon
  speaker: SpeakerIcon, // Example for a custom icon
  red: Red,
  blue: Blue,
  yellow: Yellow,
  green: Green,
  orange: Orange,
  purple: Purple,
  brown: Brown,
  pink: Pink,
  white: White,
  gray: Gray, // Example for a custom icon
  black: Black,
  color: ColorWheelIcon, // Example for a custom icon
  'colors vocab': ColorIcon, // Example for a custom icon

  'subject pronouns vocab': YouIcon, // Example for a custom icon
  month: MonthsIcon,
  season: SeasonsIcon,
  speak: SpeakIcon,
  husband: HusbandIcon,
  wife: WifeIcon,
  spouse: SpouseIcon,
  married: MarriedIcon,
  family: FamilyIcon,
  sibling: SiblingIcon,
  brother: BrotherIcon,
  sister: SisterIcon,
  father: FatherIcon, // Example for a custom icon
  mother: MotherIcon,
  parent: ParentIcon, // Example for a custom icon
  child: ChildIcon, // Example for a custom icon
  son: SonIcon,
  daughter: DaughterIcon,
  adjectives: AdjectivesIcon, // Example for a custom icon
  YesIcon: YesIcon, // Example for a custom icon
  'yes no questions': YesIcon, // Example for a custom icon
  'family vocab': FamilyIcon, // Example for a custom icon
  who: WhoIcon,
  what: WhatIcon,
  where: WhereIcon,
  why: WhyIcon,
  when: WhenIcon,
  how: HowIcon,
  'wh questions': WhIcon, // Example for a custom icon
  'wh questions vocab': WhIcon, // Example for a custom icon
  allergy: AllergyIcon,
  backache: BackacheIcon,
  broken: BrokenIcon,
  diarrhea: DiarrheaIcon,
  fever: FeverIcon,
  flu: FluIcon,
  headache: HeadacheIcon,
  nauseous: NauseousIcon,
  sick: SickIcon,
  toothache: ToothacheIcon,
  'illnesses vocab': SickIcon, // Example for a custom icon
  illnesses: SickIcon, // Example for a custom icon
  tired: TiredIcon,
  depressed: DepressedIcon,
  'cold_(illness)': ColdIllnessIcon, // Map to cold_(illness) icon
  run: RunIcon,
  'verbs vocab': VerbIcon, // Example for a custom icon
  verbs: VerbIcon, // Example for a custom icon
  go: GoIcon,
  have: HaveIcon,
  jump: JumpIcon,
  like: LikeIcon,
  listen: ListenIcon,
  love: LoveIcon,
  read: ReadIcon,
  relax: RelaxIcon,
  shower: ShowerIcon,
  sing: SingIcon,
  sleep: SleepIcon,
  stop: StopIcon,
  study: StudyIcon,
  'wake up': WakeUpIcon,
  walk: WalkIcon,
  watch: WatchIcon,
  'watch_(time)': WatchTimeIcon, // Example for a custom icon
  write: WriteIcon,
  cry: CryIcon,
  brush: BrushIcon,
  drink: DrinkIcon,
  drive: DriveIcon,
  eat: EatIcon,
  fly: FlyIcon,
  'get up': GetUpIcon,
  'simple present tense': PresentSimpleIcon,
  make: MakeIcon,
  cook: CookIcon,
  'adverbs of frequency': FrequencyIcon, // Example for a custom icon
  'adverbs of frequency vocab': FrequencyIcon, // Example for a custom icon
  arrive: ArriveIcon,
  tree: TreeIcon, // Example for a custom iconz`
  sheep: SheepIcon, // Example for a custom icon
  wait: WaitIcon,
  train: TrainIcon, // Example for a custom icon
  tooth: ToothIcon,
  think: ThinkIcon,
  thing: ThingIcon,
  shirt: ShirtIcon,
  sunglasses: SunglassesIcon,
  skirt: SkirtIcon,
  shoe: ShoeIcon,
  pants: PantsIcon,
  hat: HatIcon,
  glove: GloveIcon,
  glasses: GlassesIcon,
  dress: DressIcon,
  coat: CoatIcon,
  belt: BeltIcon,
  ring: RingIcon,
  shorts: ShortsIcon,
  clothing: ClothingIcon, // Example for a custom icon
  'clothing vocab': ClothingIcon,
  'clothes vocab': ClothingIcon,
  chair: ChairIcon, // Example for a custom icon
  chicken: ChickenIcon, // Example for a custom icon
  teacher: TeacherIcon,
  cat: CatIcon,
  dog: DogIcon,
  cow: CowIcon,
  bird: BirdIcon,
  pig: PigIcon,
  deer: DeerIcon,
  fish: FishIcon,
  pet: PetIcon,
  animal: AnimalIcon,
  'animals vocab': AnimalIcon, // Example for a custom icon
  yes: YesIcon, // Example for a custom icon
  no: NoIcon, // Example for a custom icon
  a_variant_0: LowercaseAVariant, // Example for a custom icon
  g_variant_0: LowercaseGVariant, // Example for a custom icon
  q_variant_0: LowercaseQVariant, // Example for a custom icon
  one_variant_0: OneVariant0,
  one_variant_1: OneVariant1, // Example for a custom icon
  always: AlwaysIcon, // Example for a custom icon
  usually: UsuallyIcon, // Example for a custom icon
  often: OftenIcon, // Example for a custom icon
  sometimes: SometimesIcon, // Example for a custom icon
  occasionally: OccasionallyIcon, // Example for a custom icon
  rarely: RarelyIcon, // Example for a custom icon
  never: NeverIcon, // Example for a custom icon
  not: NotIcon,

  backpack: BackpackIcon,
  book: BookIcon,
  class: ClassIcon,
  classroom: ClassIcon,
  desk: DeskIcon,
  eraser: EraserIcon,
  marker: MarkerIcon,
  notebook: NotebookIcon,
  paper: PaperIcon,
  pen: PenIcon,
  pencil: PencilIcon,
  student: StudentIcon,
  table: TableIcon,
  whiteboard: WhiteboardIcon,

  airplane: AirplaneIcon,
  bus_stop: BusStopIcon,
  airport: AirportIcon,
  bicycle: BicycleIcon,
  boat: BoatIcon,
  bus: BusIcon,
  'bus stop': BusStopIcon, // Example for a custom icon
  car: CarIcon,
  'gas station': GasStationIcon,
  helicopter: HelicopterIcon,
  'light rail': LightRailIcon,
  motorcycle: MotorcycleIcon,
  'parking lot': ParkingLotIcon,
  ride: RideIcon,
  'train station': TrainStationIcon,
  truck: TruckIcon,
  van: VanIcon,
  vehicle: VehicleIcon,

  // ...etc
};

// Helper to get icon for a word, optionally using iconText
export function getIconForEntry(entry: any): React.FC<any> {
  if (entry && typeof entry === 'object' && entry.__icon_text) {
    const iconText = entry.__icon_text;
    const pronunciation = entry.__forced_pronunciation;
    return (props: any) => (
      <TextIcon
        text={iconText}
        textsize={props.textsize || 25}
        fontSize={props.fontSize || 25}
        size={props.textwidth || 28}
        pronunciation={pronunciation}
      />
    );
  }
  // Use the object key (entry name) if available for icon mapping
  let key = '';
  if (entry && entry.__objectKey) {
    key = entry.__objectKey.toLowerCase();
  } else if (entry && entry.word) {
    key = entry.word.toLowerCase();
  } else if (typeof entry === 'string') {
    key = entry.toLowerCase();
  }
  if (iconMap[key]) return iconMap[key];
  return (props: any) => (
    <GenericTextIcon word={entry.word || entry} size={props.width || 28} />
  );
}

// New: Find icon component for a suggestion entry (by various keys, fallback to TextIcon)
export function findIconComponent(entry: any): React.FC<any> {
  // Try __objectKey, key, word, name, pos, tags, etc.
  const tryKeys: string[] = [];
  if (entry.__objectKey) tryKeys.push(entry.__objectKey.toLowerCase());
  if (entry.key) tryKeys.push(entry.key.toLowerCase());
  if (entry.word) tryKeys.push(entry.word.toLowerCase());
  if (entry.name) tryKeys.push(entry.name.toLowerCase());
  if (entry.pos) tryKeys.push(entry.pos.toLowerCase());
  if (Array.isArray(entry.__tags))
    tryKeys.push(...entry.__tags.map((t: string) => t.toLowerCase()));
  // Try each key in iconMap
  for (const k of tryKeys) {
    if (iconMap[k]) return iconMap[k];
  }
  // Fallback: if __icon_text is present, use TextIcon
  if (entry.__icon_text) {
    const iconText = entry.__icon_text;
    const pronunciation = entry.__forced_pronunciation;
    // Approximate Lexend font character widths (relative to fontSize)
    const lexendCharWidths: Record<string, number> = {
      // Narrowest
      ' ': 0.28,
      '.': 0.28,
      ',': 0.28,
      ':': 0.28,
      ';': 0.28,
      '|': 0.28,
      '!': 0.32,
      i: 0.32,
      l: 0.32,
      I: 0.36,
      j: 0.36,
      t: 0.38,
      // Slightly narrow
      f: 0.42,
      r: 0.44,
      s: 0.48,
      J: 0.48,
      '1': 0.48,
      // Average lowercase
      a: 0.54,
      c: 0.54,
      e: 0.54,
      o: 0.54,
      u: 0.54,
      v: 0.54,
      x: 0.54,
      z: 0.54,
      b: 0.58,
      d: 0.58,
      g: 0.58,
      h: 0.58,
      k: 0.58,
      n: 0.58,
      p: 0.58,
      q: 0.58,
      y: 0.58,
      m: 0.7,
      w: 0.68,
      // Average uppercase
      A: 0.62,
      B: 0.62,
      C: 0.62,
      D: 0.62,
      E: 0.62,
      F: 0.62,
      G: 0.62,
      H: 0.62,
      K: 0.62,
      L: 0.62,
      N: 0.62,
      O: 0.62,
      P: 0.62,
      Q: 0.62,
      R: 0.62,
      S: 0.62,
      U: 0.62,
      V: 0.62,
      X: 0.62,
      Y: 0.62,
      Z: 0.62,
      // Wide uppercase
      M: 0.75,
      W: 0.75,
      // Digits
      '0': 0.58,
      '2': 0.58,
      '3': 0.58,
      '4': 0.58,
      '5': 0.58,
      '6': 0.58,
      '7': 0.58,
      '8': 0.58,
      '9': 0.58,
      // Symbols
      '-': 0.38,
      _: 0.48,
      '+': 0.48,
      '=': 0.48,
      '/': 0.38,
      '\\': 0.38,
      '*': 0.48,
      '?': 0.54,
      '@': 0.68,
      '#': 0.58,
      $: 0.58,
      '%': 0.68,
      '&': 0.62,
      '^': 0.48,
      '(': 0.36,
      ')': 0.36,
      '[': 0.36,
      ']': 0.36,
      '{': 0.36,
      '}': 0.36,
      '<': 0.48,
      '>': 0.48,
      "'": 0.22,
      '"': 0.32,
    };
    function estimateTextWidth(text: string, fontSize: number) {
      let total = 0;
      for (let i = 0; i < text.length; i++) {
        const c = text[i];
        total += lexendCharWidths[c] ?? 0.58; // fallback to average width
      }
      return total * fontSize;
    }
    return (props: any) => {
      const size = props.width || props.height || 22;
      // Iteratively find the largest fontSize that fits
      let fontSize = size * 0.9;
      for (let trySize = fontSize; trySize >= 8; trySize -= 0.5) {
        if (estimateTextWidth(iconText, trySize) <= size * 0.92) {
          fontSize = trySize;
          break;
        }
      }
      if (fontSize < 8) fontSize = 8;
      return (
        <TextIcon
          text={iconText}
          size={size}
          textsize={fontSize}
          fontSize={fontSize}
          pronunciation={pronunciation}
          style={props.style}
        />
      );
    };
  }
  // Fallback: show first letter as GenericTextIcon
  return (props: any) => {
    const size = props.width || props.height || 22;
    return (
      <GenericTextIcon word={entry.word || entry.name || ''} size={size} />
    );
  };
}
